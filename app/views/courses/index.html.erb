<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>
<script src="https://www.google.com/jsapi"></script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js" type="text/javascript"></script>

<div class="container">
  <div class="row">
    <div class="col-12 my-4">
      <figure class="highcharts-figure">
        <div id="container"></div>
      </figure>
    </div>

    <div class="col-12 my-4">
      <div id="chart_div1" class="chart"></div>
    </div>
    <div class="col-12 my-4">
      <div id="chart_div2" class="chart"></div>
    </div>
  </div>
  <div class="row my-5 justify-content-center">
    <div class="col-2">
      <button class="alert">Alert button</button>
    </div>
  </div>

  <div class="row my-5">
    <div class="col-12">
      <table class="table">
        <tbody>
           <tr>
              <th data-test="country" class="table-data">Страна, город</th>
              <th data-test="half-bread-kilo" >Полкило хлеба</th>
              <th>Килограмм куриного филе</th>
              <th>Килограмм риса</th>
           </tr>
           <tr>
              <td data-test="country" class="table-data">Швейцария, Женева</td>
              <td data-test="half-bread-kilo">2,5 евро</td>
              <td>21,4 евро</td>
              <td>2,1 евро</td>
           </tr>
           <tr>
              <td data-test="country"  class="table-data">Испания, Барселона</td>
              <td data-test="half-bread-kilo">1,1 евро</td>
              <td>5,8 евро</td>
              <td>1,5 евро</td>
           </tr>
           <tr>
              <td data-test="country"  class="table-data">Греция, Салоники</td>
              <td data-test="half-bread-kilo">1 евро</td>
              <td>4,5 евро</td>
              <td>1,3 евро</td>
           </tr>
           <tr>
              <td data-test="country"  class="table-data">Великобритания, Лондон</td>
              <td data-test="half-bread-kilo">1,4 евро</td>
              <td>10,4 евро</td>
              <td>1,1 евро</td>
           </tr>
           <tr>
              <td data-test="country"  class="table-data">Португалия, Лиссабон</td>
              <td data-test="half-bread-kilo">1,5 евро</td>
              <td>8,1 евро</td>
              <td>1,6 евро</td>
           </tr>
           <tr>
              <td data-test="country"  class="table-data">Венгрия, Будапешт</td>
              <td data-test="half-bread-kilo">0,5 евро</td>
              <td>4,5 евро</td>
              <td>0,8 евро</td>
           </tr>
        </tbody>
     </table>
    </div>
  </div>

  <div class="row my-5 justify-content-center">
    <div class="col-6">
      <select>
        <option value="1">Value 1</option>
        <option value="2">Value 2</option>
        <option value="3">Value 3</option>
      </select>
    </div>
  </div>

  <div class="row my-5 justify-content-center">
    <div class="col-6">
      <div class="form-item js-close">
        <input type="text" required>
        <span>x</span>
      </div>
    </div>
  </div>

  <div class="row my-5">
    <div class="col-2">
      <button id="modal-btn">Open Modal</button>

      <div id="modal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <p>Some text in the Modal..</p>
        </div>
      </div>
    </div>
  </div>

  <div class="row my-5">
    <div class="col-6">
      <div class="form-item">
        <input type="checkbox" name="table" id="table">
        <label for="table">Select first column in table</label>
      </div>
  </div>
</div>

<div class="row">
  <div class='drophere'>
    <div class="draghere">Draggable 1</div>
  </div>
  <div class='drophere'>
    <div class="draghere">Draggable 2</div>
  </div>
  <div class='drophere'>
    <div class="draghere">Draggable 3</div>
  </div>
  <div class='drophere'>
    <div class="draghere">Draggable 4</div>
  </div>
  <div class='drophere'>
    <div class="draghere">Draggable 5</div>
  </div>
  
  <div class='drophere'>
    <div class="draghere">Draggable 6</div>
  </div>
</div>

</div>

<style>

.drophere {
  display: inline;
  margin-left: 100px;
  width: 200px;
  height: 50px;
  border: 1px solid red;
  padding: 5px;
  margin-bottom: 30px;
}

.draghere {
  width: 200px;
  height: 50px;
  background: green;
  text-align: center;
  line-height: 50px;
}
.ui-draggable-dragging {
  background: blue;
}

.hoverClass {
  border: 2px solid red;
  background: black;
  }
  .table-data.active {
    background: gainsboro;
    color: green;
  }
  .modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgb(0,0,0);
    background-color: rgba(0,0,0,0.4);
  }

  .modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    text-align: center;
    border: 1px solid #888;
    width: 80%;
  }

  .close {
    color: #aaa;
    font-size: 28px;
    font-weight: bold;
    text-align: right;
  }

  .close:hover,
  .close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
  }

  .form-item {
    position: relative;
  }

  .form-item span {
    display: none;
    position: absolute;
    top: 50%;
    right: 15px;
    font-size: 14px;
    min-width: 20px;
    min-height: 20px;
    text-align: center;
    line-height: 30px;
    height: 30px;
    width: 30px;
    border-radius: 50%;
    transform: translateY(-50%);
    border: 1px solid greenyellow;
  }

  .form-item:hover span {
    display: block;
  }
</style>

<script>

$(document).ready(function () {
      window.startPos = window.endPos = {};

      makeDraggable(); 

      $('.drophere').droppable({
        hoverClass: 'hoverClass',
        drop: function(event, ui) {
          var $from = $(ui.draggable),
              $fromParent = $from.parent(),
              $to = $(this).children(),
              $toParent = $(this);

          window.endPos = $to.offset();

          swap($from, $from.offset(), window.endPos, 0);
          swap($to, window.endPos, window.startPos, 1000, function() {
            $toParent.html($from.css({position: 'relative', left: '', top: '', 'z-index': ''}));
            $fromParent.html($to.css({position: 'relative', left: '', top: '', 'z-index': ''}));
            makeDraggable();
          });
        }
      });

      function makeDraggable() {
        $('.draghere').draggable({
          zIndex: 99999,
          revert: 'invalid',
          start: function(event, ui) {
            window.startPos = $(this).offset();
          }
        });
      }

      function swap($el, fromPos, toPos, duration, callback) {
        $el.css('position', 'absolute')
          .css(fromPos)
          .animate(toPos, duration, function() {
            if (callback) callback();
          });
      }
    });

  //checbox
  $("#table").change(function() {
    $(".table-data").toggleClass("active", this.checked)
  }).change();


  //modal
  var modal = document.getElementById("modal");
  var btn = document.getElementById("modal-btn");
  var span = document.getElementsByClassName("close")[0];

    btn.onclick = function() {
      modal.style.display = "block";
      setTimeout(() => { modal.style.display = "none" }, 4000);
    }

    span.onclick = function() {
      modal.style.display = "none";
    }
    window.onclick = function(event) {
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }

  //clear input  
  const Close = () => {
    $('.js-close>span').on('click', function() {
      $(this).prev().val('');
    });
  };

  Close();

  //alert
  $('.alert').on('click', () => {
    alert('Alert text');
  });


  //charts
  Highcharts.chart('container', {
    chart: {
        plotBackgroundColor: null,
        plotBorderWidth: null,
        plotShadow: false,
        type: 'pie'
    },
    title: {
        text: 'Browser market shares in January, 2018'
    },
    tooltip: {
        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'
    },
    accessibility: {
        point: {
            valueSuffix: '%'
        }
    },
    plotOptions: {
        pie: {
            allowPointSelect: true,
            cursor: 'pointer',
            dataLabels: {
                enabled: true,
                format: '<b>{point.name}</b>: {point.percentage:.1f} %'
            }
        }
    },
    series: [{
        name: 'Brands',
        colorByPoint: true,
        data: [{
            name: 'Chrome',
            y: 61.41,
            sliced: true,
            selected: true
        }, {
            name: 'Internet Explorer',
            y: 11.84
        }, {
            name: 'Firefox',
            y: 10.85
        }, {
            name: 'Edge',
            y: 4.67
        }, {
            name: 'Safari',
            y: 4.18
        }, {
            name: 'Sogou Explorer',
            y: 1.64
        }, {
            name: 'Opera',
            y: 1.6
        }, {
            name: 'QQ',
            y: 1.2
        }, {
            name: 'Other',
            y: 2.61
        }]
    }]
});

google.load("visualization", "1", {packages:["corechart"]});
google.setOnLoadCallback(drawChart1);
function drawChart1() {
  var data = google.visualization.arrayToDataTable([
    ['Year', 'Sales', 'Expenses'],
    ['2004',  1000,      400],
    ['2005',  1170,      460],
    ['2006',  660,       1120],
    ['2007',  1030,      540]
  ]);

  var options = {
    title: 'Company Performance',
    hAxis: {title: 'Year', titleTextStyle: {color: 'red'}}
 };

var chart = new google.visualization.ColumnChart(document.getElementById('chart_div1'));
  chart.draw(data, options);
}

google.load("visualization", "1", {packages:["corechart"]});
google.setOnLoadCallback(drawChart2);
function drawChart2() {
  var data = google.visualization.arrayToDataTable([
    ['Year', 'Sales', 'Expenses'],
    ['2013',  1000,      400],
    ['2014',  1170,      460],
    ['2015',  660,       1120],
    ['2016',  1030,      540]
  ]);

  var options = {
    title: 'Company Performance',
    hAxis: {title: 'Year',  titleTextStyle: {color: '#333'}},
    vAxis: {minValue: 0}
  };

  var chart = new google.visualization.AreaChart(document.getElementById('chart_div2'));
  chart.draw(data, options);
}

$(window).resize(function(){
  drawChart1();
  drawChart2();
});

</script>